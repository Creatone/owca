[tox]
envlist = flake8,unit,package

[testenv]
basepython = python3.6

[testenv:flake8]
deps = flake8
commands = flake8 owca_kafka_consumer

[testenv:unit]
usedevelop = True
deps = pytest-cov
commands = pytest --cov-report term-missing --cov=owca_kafka_consumer tests

[testenv:package]
deps = pex
commands = pex . --disable-cache -o dist/owca_kafka_consumer.pex -m owca_kafka_consumer.main:main
